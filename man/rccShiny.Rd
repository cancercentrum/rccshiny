% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rccShiny.R
\name{rccShiny}
\alias{rccShiny}
\title{Shiny apps for RCC}
\usage{
rccShiny(data = NULL, outcome = "outcome", outcomeTitle = outcome,
  folder = "ind", folderLinkText = outcomeTitle, path = getwd(),
  titleTextBeforeSubtitle = NULL, titleTextAfterSubtitle = NULL,
  comment = "", description = c("(beskrivning saknas)",
  "(description missing)"), geoUnitsHospital = "sjukhus",
  geoUnitsCounty = "landsting", geoUnitsRegion = "region",
  geoUnitsFromLKF = FALSE, regionSelection = TRUE,
  regionLabel = c("Begränsa till region", "Limit to region"),
  period = "period", periodLabel = c("Diagnosår", "Year of diagnosis"),
  userInputList = NULL, targetValues = NULL, funnelplot = FALSE,
  targetValuesSortDescending = NULL, hideLessThan = 5, language = c("sv"),
  npcrGroupPrivateOthers = TRUE)
}
\arguments{
\item{data}{data frame containing the variables used in the app.}

\item{outcome}{vector with the name(s) of the variable(s) of interest, for example a "kvalitetsindikator". Default is "outcome".}

\item{outcomeTitle}{label(s) of the outcome(s). Must be the same lenght as argument outcome. Default is argument outcome (name(s) of the outcome(s) in the dataset).}

\item{folder}{name of folder where the results are placed.}

\item{folderLinkText}{short name used in html lank??? glunkiglunk. Fredrik: HJÄLP SÖKES!}

\item{path}{searchpath to folder. Default is working directory.}

\item{titleTextBeforeSubtitle}{optional text placed before the subtitles in the tabs.}

\item{titleTextAfterSubtitle}{optional text placed after the subtitles in the tabs.}

\item{comment}{optional comment printed under the sidebar panel.}

\item{description}{description shown in the tab Beskrivning/Description.}

\item{geoUnitsHospital}{optional character vector with hospital names. At least one geoUnit needs to be given. To be implemented: Hospital codes.}

\item{geoUnitsCounty}{optional numeric vector with county codes. Can be either county of residence for the patient or the county the hospital belongs to. See details for valid values. At least one geoUnit needs to be given. To be implemented: Codes for county of hospital are fetched automatically from hospital codes.}

\item{geoUnitsRegion}{optional numeric vector with region codes (1=Stockholm, 2=Uppsala-Örebro, 3=Sydöstra, 4=Södra, 5=Västra, 6=Norra). At least one geoUnit needs to be given. To be implemented: Codes for region of hospital are fetched automatically from hospital codes.}

\item{geoUnitsFromLKF}{if geoUnitsCounty is county of residence for the patient (LKF). If FALSE and a hospital is choosen by the user in the sidebar panel the output is highlighted for the respective county/region that the hospital belongs to. Default is FALSE.}

\item{regionSelection}{adds a widget to the sidebar panel with the option to show only one region at a time. Default is TRUE.}

\item{regionLabel}{used if regionSelection = TRUE. Label of widget shown in the sidebar panel. Default is c("Begränsa till region", "Limit to region").}

\item{period}{numeric vector with time periods, for example year of diagnosis. Default is "period".}

\item{periodLabel}{label for the period widget in the sidebar panal. Default is c("Diagnosår", "Year of diagnosis").}

\item{userInputList}{list with variables (other than period and geoUnits) to be shown in sidebar panel. Arguments to the list are: var (variable name in dataset), label (label shown over widget in sidebar panel), choices (which values of var should be shown, min, max for continous variables).}

\item{targetValues}{optional vector of 1-2 targetvalues ("målnivåer") to be plotted in the tab Jämförelse/Comparison. Only applicaple for dichotomous variables.}

\item{funnelplot}{adds a widget to the sidebar panel with the option to show a funnel plot in the tab Jämförelse/Comparison. Only applicaple for dichotomous variables. Default is FALSE. Currently not implemented and always set to TRUE.}

\item{targetValuesSortDescending}{should the bars in tab Jämförelse/Comparison be plotted in descending order. Deafault is TRUE.}

\item{hideLessThan}{optional value under which groups (cells) are supressed. Default is 5 and all values < 5 are set to 5.}

\item{language}{vector giving the language for the app. Possible values are "sv" and "en". Default is "sv". See details.}

\item{npcrGroupPrivateOthers}{Applicable for NPCR only. FREDRIK: vad ska stå? Ska default vara TRUE?}
}
\value{
A folder path/apps/sv|en/folder containing: global.R, server.R, ui.R, data/data.RData, docs/description.html.
}
\description{
returns shiny apps used as a complement to the annual reports from the cancer quality registries in Sweden.
}
\details{
Valid values for geoUnitsCounty are:
  \tabular{lll}{
geoUnitsFromLKF   \tab !geoUnitsFromLKF \tab Text\cr
1\tab 10,11 \tab  Stockholm\cr
3\tab 12 \tab  Uppsala\cr
4\tab 13 \tab  Södermanland\cr
5\tab 21 \tab  Östergötland\cr
6\tab 22 \tab Jönköping\cr
7\tab 23 \tab  Kronoberg\cr
8\tab 24,25 \tab  Kalmar\cr
9\tab 26 \tab  Gotland\cr
10\tab 27 \tab  Blekinge\cr
12\tab 28,30,41   \tab  Skåne\cr
13\tab 42 \tab  Halland\cr
14\tab 50,51,52,53   \tab  Västra Götaland\cr
17\tab 54 \tab  Värmland\cr
18\tab 55 \tab  Örebro\cr
19\tab 56 \tab  Västmanland\cr
20\tab 57 \tab  Dalarna\cr
21\tab 61 \tab  Gävleborg\cr
22\tab 62 \tab  Västernorrland\cr
23\tab 63 \tab  Jämtland\cr
24\tab 64 \tab  Västerbotten\cr
25\tab 65 \tab  Norrbotten\cr
-\tab 91,92,93,94,95,96 \tab  Övriga/privata - region
}



If language = c("sv", "en") the following applies to arguments: outcomeTitle, titleTextBeforeSubtitle, titleTextAfterSubtitle, comment, description,
regionLabel, label in list userInputList: if there are two values the first is used in the swedish version and the second in the english version. These must be given in order sv, en. If there is only one value this is recycled in both versions.
The following applies to arguments outcome, geoUnitsHospital, geoUnitsCounty, geoUnitsRegion, period, var in list userInputList: in the english version rccShiny will use the variable name with the suffix _en (for example "outcome_en") if this exists and otherwise recycle the swedish variable name.
}
\examples{
rccShiny(
  data = rccShinyData,
  folder = "Indikator1",
  path = "C:/Users/552l/test_rccShiny",
  outcome = paste0("outcome",1:3),
  outcomeTitle = c("Dikotom", "Kontinuerlig", "Kategorisk"),
  comment = "Skovde och Lidkoping tillhor Skaraborg",
  description = "Att tanka pa vid tolkning ....",
  userInputList = list(
    list(
      var = "age",
      label = "Alder vid diagnos"
    ),
    list(
      var = "stage",
      label = "Stadium",
      choices = c("I", "II")
    )
  ),
  funnelplot = TRUE
)
\dontrun{
library(shiny)
runApp("C:/Users/552l/test_rccShiny/apps/sv/Indikator1")
}

# For Swedish/English version
rccShinyData$outcome1_en <- rccShinyData$outcome1
rccShiny(
  data = rccShinyData,
  folder = "Indikator2",
  outcome = "outcome1",
  outcomeTitle = c("Kontaktsjukskoterska", "Contact nurse"),
  titleTextBeforeSubtitle = c("Nagot pÃ¥ svenska","Something in English"),
  description = c("Superbra att ha!","Supergood to have!"),
  userInputList = list(
    list(
      var = "age",
     label = c("Alder vid diagnos","Age at diagnosis"),
      choices = c(0,120)
    )
  ),
  targetValues = c(95,99),
  language = c("sv", "en")
)

}
\author{
Fredrik Sandin, RCC Uppsala-Örebro
}
